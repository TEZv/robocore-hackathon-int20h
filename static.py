

BASE_SCENARIOS = [
    ("payment_success", "normal",
     "КЛІЄНТ: Стривожений, пише короткими реченнями, робить дрібні описки ('не проходить оплата!!', 'шо робить?'). АГЕНТ: Професійний, швидко скидає нове посилання."),
    ("tech_success", "normal",
     "КЛІЄНТ: Технічно неграмотний (бумер), пояснює 'на пальцях' ('крутиться кружечок і все', 'ваша програма зламалась'). АГЕНТ: Терплячий, дає покрокову інструкцію."),
    ("access_success", "normal",
     "КЛІЄНТ: Дуже поспішає, пише без розділових знаків і з малої літери ('швидше дайте доступ горить проект'). АГЕНТ: Блискавично скидає код відновлення."),
    ("tariff_success", "normal",
     "КЛІЄНТ: Дуже економний, прискіпливо питає за кожну копійку, боїться прихованих платежів. АГЕНТ: Детально все пояснює."),
    ("refund_success", "normal",
     "КЛІЄНТ: Ввічливий, але дуже засмучений і розчарований якістю товару. АГЕНТ: Співчуває, швидко оформлює повернення."),
    ("other_success", "normal",
     "КЛІЄНТ: Пише з купою смайликів, питає графік роботи на свята. АГЕНТ: Радо надає інформацію."),
    ("tech_success_pro", "normal",
     "КЛІЄНТ: Програміст, спілкується суто технічними термінами, скидає логи помилки (Error 500, CORS policy). АГЕНТ: Спілкується на одному рівні."),
    ("payment_conflict", "conflict",
     "КЛІЄНТ: Дуже злий, пише КАПСОМ, використовує знаки оклику, погрожує судом за подвійне списання. АГЕНТ: Сухо ігнорує питання 'хто поверне комісію?' (помилка: ignored_question)."),
    ("tech_problem", "problem",
     "КЛІЄНТ: Роздратований, додаток вилітає третій день поспіль. АГЕНТ: Відповідає зверхньо, прямо звинувачує дешевий телефон клієнта (помилка: rude_tone)."),
    ("tariff_problem", "problem",
     "КЛІЄНТ: Питає про вартість річної підписки. АГЕНТ: Впевнено називає неправильну, стару ціну (помилка: incorrect_info). Клієнт вірить."),
    ("access_problem", "problem",
     "КЛІЄНТ: Не приходить SMS. АГЕНТ: Одразу каже 'пишіть листа директору', замість перевірки номера (помилка: unnecessary_escalation)."),
    ("refund_conflict", "conflict",
     "КЛІЄНТ: Вимагає повернення (пройшло 10 днів). АГЕНТ: Грубо відмовляє без жодних пояснень причини (помилка: rude_tone)."),
    ("payment_problem_2", "problem",
     "КЛІЄНТ: Гроші списало, а послуги нема, панікує. АГЕНТ: Відписує шаблонно 'чекайте' і миттєво закриває чат (помилка: no_resolution)."),
    ("hidden_dissatisfaction_1", "easter_egg",
     "КЛІЄНТ: Скаржиться на повільний інтернет. АГЕНТ: Скидає лінк на 100-сторінкову інструкцію. КЛІЄНТ: 'Ясно, сам розберусь. Дякую.' (проблема НЕ вирішена)."),
    ("hidden_dissatisfaction_2", "easter_egg",
     "КЛІЄНТ: Чому не спрацював промокод? АГЕНТ: Каже акція закінчилась (брехня, incorrect_info). КЛІЄНТ: 'Ну окей, хай буде без знижки, до побачення' (прихована образа)."),
    ("hidden_dissatisfaction_3", "easter_egg",
     "КЛІЄНТ: Хоче змінити пошту. АГЕНТ: 'Я створю тікет на адмінів, чекайте 5 днів' (unnecessary_escalation). КЛІЄНТ: 'Добре, буду чекати, дякую'."),
    ("mixed_tariff", "normal",
     "КЛІЄНТ: Студент, шукає халяву, використовує молодіжний сленг ('крінж', 'чілити'). АГЕНТ: Підбирає молодіжний тариф."),
    ("mixed_other", "problem",
     "КЛІЄНТ: Питає, як повністю видалити свій акаунт. АГЕНТ: Повністю ігнорує питання і нав'язує знижку 50% (помилка: ignored_question)."),
    ("mixed_refund", "easter_egg",
     "КЛІЄНТ: Гроші за повернення не прийшли на 5 день. АГЕНТ: 'Це проблема вашого банку' (rude_tone + no_resolution). КЛІЄНТ: 'Зрозуміло, піду сваритись з банком, до побачення'."),
    ("mixed_tech", "conflict",
     "КЛІЄНТ: Агресивний, через ваш баг втратив гроші. АГЕНТ: Замість вибачень починає агресивно сперечатися (помилка: rude_tone).")
]


GLOBAL_PROMPT = """Ти - AI-генератор реалістичних діалогів для тренування моделей служби підтримки. 
    Твоє завдання: згенерувати {batch_count} різних чатів українською мовою.
    КРИТИЧНІ ВИМОГИ:
    1. РЕАЛІСТИЧНІСТЬ: Клієнти не повинні бути ідеальними. 
        Використовуй емоції, капслок для злих клієнтів, відсутність розділових знаків для тих, хто поспішає, дрібні одруки, сленг. 
        Агент спілкується згідно зі своїм описом.
    2. РІЗНОМАНІТНА ДОВЖИНА: Для кожного з {batch_count} діалогів випадково обери довжину від 5 до 40 реплік (сумарно клієнт+агент). 
        Частина діалогів має бути короткою (5-8 реплік) - швидке вирішення проблеми.
        Частина середньою (15-20 реплік) - стандартна консультація.
        Мінімум 1-2 діалоги мають бути дуже довгими (30-40 реплік) - клієнт не розуміє, багато уточнень або затяжний конфлікт.

    Поверни результат ВИКЛЮЧНО у форматі валідного JSON-масиву. Структура:
    [
    {{
        "id": "назва_сценарію",
        "messages": [
            {{"role": "client", "text": "жива репліка"}},
            {{"role": "agent", "text": "репліка"}}
        ]
    }}
    ]

    Сценарії для поточного пакету:
    """